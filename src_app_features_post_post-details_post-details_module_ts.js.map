{"version":3,"file":"src_app_features_post_post-details_post-details_module_ts.js","mappings":"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","sources":["./src/app/core/ngrx-store/selectors/router.selectors.ts","./src/app/features/post/post-details/ngrx-store/post-details.selectors.ts","./src/app/features/post/post-details/page/post-details-page.component.ts","./src/app/features/post/post-details/page/post-details-page.component.html","./src/app/features/post/post-details/post-details-routing.module.ts","./src/app/features/post/post-details/post-details.module.ts"],"sourcesContent":["import * as fromRouter from '@ngrx/router-store';\n\nexport const {\n  selectCurrentRoute, // select the current route\n  selectFragment, // select the current route fragment\n  selectQueryParams, // select the current route query params\n  selectQueryParam, // factory function to select a query param\n  selectRouteParams, // select the current route params\n  selectRouteParam, // factory function to select a route param\n  selectRouteData, // select the current route data\n  selectUrl, // select the current url\n} = fromRouter.getSelectors();\n","import { createSelector } from '@ngrx/store';\nimport { selectRouteParam } from '../../../../core/ngrx-store/selectors/router.selectors';\nimport { selectEntities } from '../../../../core/ngrx-store/selectors/entities.selectors';\nimport { Post } from '../../../../core/types/models/post';\nimport { denormalize } from 'normalizr';\nimport { postSchema } from '../../../../core/normalizr/schemas/post-schema';\nimport { Breadcrumb } from '../../../../shared/components/breadcrumbs/breadcrumbs.component';\n\nexport const selectSinglePost = createSelector(\n  selectRouteParam('id'),\n  selectEntities,\n  (postId, entities): Post | undefined => {\n    return denormalize(postId, postSchema, entities);\n  },\n);\n\nexport const selectSinglePostBreadcrumbs = createSelector(\n  selectSinglePost,\n  (post): Breadcrumb[] | null => {\n    if (!post) return null;\n\n    return [\n      {\n        link: '',\n        text: 'Dashboard',\n      },\n      {\n        link: ['/', 'posts'],\n        text: 'Posts',\n      },\n      {\n        link: null,\n        text: post.id + '. ' + post.title,\n      },\n    ];\n  },\n);\n","import { Component, ChangeDetectionStrategy, OnInit } from '@angular/core';\nimport { Breadcrumb } from '../../../../shared/components/breadcrumbs/breadcrumbs.component';\nimport { Observable } from 'rxjs';\nimport { Post } from '../../../../core/types/models/post';\nimport { select, Store } from '@ngrx/store';\nimport { State } from '../../../../core/ngrx-store/reducers';\nimport {\n  selectSinglePost,\n  selectSinglePostBreadcrumbs,\n} from '../ngrx-store/post-details.selectors';\nimport { GET_SINGLE_POST, GetSinglePost } from '../../../../core/ngrx-store/actions/post.actions';\nimport { ActivatedRoute } from '@angular/router';\nimport { GetUsers } from '../../../../core/ngrx-store/actions/user.actions';\nimport { selectIsActionInProcess } from '../../../../core/ngrx-store/selectors/current-actions.selectors';\n\n@Component({\n  selector: 'app-post-details-page',\n  templateUrl: './post-details-page.component.html',\n  styleUrls: ['./post-details-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PostDetailsPageComponent implements OnInit {\n  post$: Observable<Post | undefined> = this.store.pipe(select(selectSinglePost));\n\n  loadInProcess$: Observable<boolean> = this.store.pipe(\n    select(selectIsActionInProcess(GET_SINGLE_POST)),\n  );\n\n  breadcrumbs$: Observable<Breadcrumb[] | null> = this.store.pipe(\n    select(selectSinglePostBreadcrumbs),\n  );\n\n  constructor(private store: Store<State>, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.route.params.subscribe((params) => {\n      const id = Number(params['id']);\n      this.store.dispatch(new GetSinglePost(id));\n    });\n    this.store.dispatch(new GetUsers());\n  }\n}\n","<div class=\"container pt-3\">\n  <app-content-loading-status\n    [isEmpty]=\"(post$ | async) === undefined\"\n    [isLoading]=\"(loadInProcess$ | async)!\"\n  ></app-content-loading-status>\n\n  <app-breadcrumbs *ngIf=\"breadcrumbs$ | async as breadcrumbs\" [items]=\"breadcrumbs\"></app-breadcrumbs>\n\n  <ng-container *ngIf=\"post$ | async as post\">\n    <h2>{{post.title}}</h2>\n    <div *ngIf=\"post.user\" class=\"mb-2\">\n      By <a [routerLink]=\"['/', 'user', post.user.id]\">{{post.user.name}}</a>\n    </div>\n    <div>{{post.body}}</div>\n  </ng-container>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PostDetailsPageComponent } from './page/post-details-page.component';\n\nconst routes: Routes = [{ path: '', component: PostDetailsPageComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostDetailsRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PostDetailsRoutingModule } from './post-details-routing.module';\nimport { PostDetailsPageComponent } from './page/post-details-page.component';\nimport { SharedModule } from '../../../shared/shared.module';\n\n@NgModule({\n  declarations: [PostDetailsPageComponent],\n  imports: [CommonModule, PostDetailsRoutingModule, SharedModule],\n})\nexport class PostDetailsModule {}\n"],"names":["select","selectSinglePost","selectSinglePostBreadcrumbs","GET_SINGLE_POST","GetSinglePost","GetUsers","selectIsActionInProcess","i0","PostDetailsPageComponent","constructor","store","route","pipe","ngOnInit","params","subscribe","id","Number","dispatch","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///"}