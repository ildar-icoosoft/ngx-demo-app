"use strict";(self.webpackChunkngx_demo_app=self.webpackChunkngx_demo_app||[]).push([[879],{6879:(ct,D,r)=>{r.r(D),r.d(D,{PostListModule:()=>mt});var a=r(9808),x=r(8775);function T(n,i,e,c,p,g,_){try{var R=n[g](_),I=R.value}catch(gt){return void e(gt)}R.done?i(I):Promise.resolve(I).then(c,p)}function C(n){return function(){var i=this,e=arguments;return new Promise(function(c,p){var g=n.apply(i,e);function _(I){T(g,c,p,_,R,"next",I)}function R(I){T(g,c,p,_,R,"throw",I)}_(void 0)})}}var d=r(5094),P=r(3318);const Z="postList",f={pageRequest:{},totalCount:0,items:[]};function b(n=f,i){return i.type===P.kE?i.data.result:n}var m=r(2257),v=r(1291),O=r(5503),E=r(5071);const B="userList",at=[];function J(n=at,i){return i.type===E.Oz?i.data.result.items:n}var H=r(151);const F=(0,d.ZF)(Z),w=(0,d.P1)(F,m.O,(n,i)=>(0,v.cY)(n.items,[O.R],i)),A=(0,d.P1)(F,n=>n.pageRequest),G=(0,d.P1)(F,n=>n.totalCount),k=(0,d.ZF)(B),V=(0,d.P1)(k,m.O,(n,i)=>(0,v.cY)(n,[H.I],i));var W=r(6805),X=r(930);function S(n,i){const e="object"==typeof i;return new Promise((c,p)=>{const g=new X.Hp({next:_=>{c(_),g.unsubscribe()},error:p,complete:()=>{e?c(i.defaultValue):p(new W.K)}});n.subscribe(g)})}var tt=r(8198),t=r(5e3),$=r(2834),et=r(655),h=r(3075),U=r(911),N=r(9468),nt=r(4986);function Q(n,i){if(1&n&&(t.TgZ(0,"option",3),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}let L=class{constructor(){this.users=[],this.changeFilter=new t.vpe,this.group=new h.cw({q:new h.NI(""),userId:new h.NI("0")})}ngOnInit(){this.group.valueChanges.pipe((0,N.p)(1e3,nt.z,{trailing:!0}),(0,U.t)(this)).subscribe(i=>{const e=[];i.q&&e.push({field:"q",value:i.q}),"0"!==i.userId&&e.push({field:"userId",value:i.userId}),this.changeFilter.emit(e)})}trackByUser(i,e){return e.id}};L.\u0275fac=function(i){return new(i||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-post-list-filter"]],inputs:{users:"users"},outputs:{changeFilter:"changeFilter"},decls:6,vars:4,consts:[[1,"d-flex",3,"formGroup"],["formControlName","q","placeholder","Search",1,"form-control","me-2"],["formControlName","userId","aria-label","User filter",1,"form-select"],[3,"value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(i,e){1&i&&(t.TgZ(0,"form",0),t._UZ(1,"input",1),t.TgZ(2,"select",2)(3,"option",3),t._uU(4,"User"),t.qZA(),t.YNc(5,Q,2,2,"option",4),t.qZA()()),2&i&&(t.Q6J("formGroup",e.group),t.xp6(3),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",e.users)("ngForTrackBy",e.trackByUser))},directives:[h._Y,h.JL,h.sg,h.Fj,h.JJ,h.u,h.EJ,h.YN,h.Kr,a.sg],styles:[".search-input[_ngcontent-%COMP%], .user-filter[_ngcontent-%COMP%]{width:250px}"],changeDetection:0}),L=(0,et.gn)([(0,U.c)()],L);let st=(()=>{class n{constructor(e){this.store=e,this.users$=this.store.pipe((0,d.Ys)(V))}changeFilter(e){var c=this;return C(function*(){const p=yield S(c.store.pipe((0,d.Ys)(A)));c.store.dispatch(new P.Pv(Object.assign(Object.assign({},p),{page:{number:1,size:p.page.size},filter:e})))})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-list-filter-container"]],decls:2,vars:3,consts:[[3,"users","changeFilter"]],template:function(e,c){1&e&&(t.TgZ(0,"app-post-list-filter",0),t.NdJ("changeFilter",function(g){return c.changeFilter(g)}),t.ALo(1,"async"),t.qZA()),2&e&&t.Q6J("users",t.lcZ(1,1,c.users$))},directives:[L],pipes:[a.Ov],encapsulation:2,changeDetection:0}),n})();var Y=r(801),q=r(6974),M=r(9444),j=r(6393);function z(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"fa-icon",9),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("icon","asc"===(null==e.listRequest.sort?null:e.listRequest.sort.direction)?e.faSortUp:e.faSortDown)("fixedWidth",!0)}}function ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"th",8),t.NdJ("click",function(){const g=t.CHM(e).$implicit;return t.oxw(2).sortBy(g.id)}),t._uU(1),t.YNc(2,z,2,2,"ng-container",1),t.qZA()}if(2&n){const e=i.$implicit,c=t.oxw(2);t.xp6(1),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",(null==c.listRequest.sort?null:c.listRequest.sort.field)===e.id)}}const it=function(n){return["/","user",n]};function rt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",11),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,it,e.user.id)),t.xp6(1),t.Oqu(e.user.name)}}const lt=function(n){return["/","post",n]};function o(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"th",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,rt,3,4,"ng-container",1),t.qZA(),t.TgZ(5,"td")(6,"a",11),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Q6J("ngIf",e.user),t.xp6(2),t.Q6J("routerLink",t.VKq(5,lt,e.id)),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Oqu(e.body)}}function s(n,i){1&n&&t._uU(0,"Prev")}function l(n,i){1&n&&t._uU(0,"Next")}function u(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"table",2)(2,"thead")(3,"tr"),t.YNc(4,ot,3,2,"th",3),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,o,10,7,"tr",4),t.qZA()(),t.TgZ(7,"ngb-pagination",5),t.NdJ("pageChange",function(p){return t.CHM(e),t.oxw().pageChange.emit(p)}),t.YNc(8,s,1,0,"ng-template",6),t.YNc(9,l,1,0,"ng-template",7),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.columns),t.xp6(2),t.Q6J("ngForOf",e.items),t.xp6(1),t.Q6J("page",(null==e.listRequest.page?null:e.listRequest.page.number)||1)("pageSize",(null==e.listRequest.page?null:e.listRequest.page.size)||0)("collectionSize",e.totalCount)}}let y=(()=>{class n{constructor(){this.faSortUp=Y.foy,this.faSortDown=Y.u9C,this.columns=[{id:"id",title:"ID"},{id:"userId",title:"User"},{id:"title",title:"Title"},{id:"body",title:"Content"}],this.items=[],this.listRequest={},this.loadInProcess=!0,this.totalCount=0,this.sort=new t.vpe,this.pageChange=new t.vpe}sortBy(e){var c;(null===(c=this.listRequest.sort)||void 0===c?void 0:c.field)===e?this.sort.emit({field:this.listRequest.sort.field,direction:"asc"===this.listRequest.sort.direction?"desc":"asc"}):this.sort.emit({field:e,direction:"asc"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-list-table"]],inputs:{items:"items",listRequest:"listRequest",loadInProcess:"loadInProcess",totalCount:"totalCount"},outputs:{sort:"sort",pageChange:"pageChange"},decls:2,vars:3,consts:[[3,"isEmpty","isLoading"],[4,"ngIf"],[1,"table","table-bordered"],["scope","col",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center",3,"page","pageSize","collectionSize","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["scope","col",3,"click"],[3,"icon","fixedWidth"],["scope","row",1,"fw-normal"],[3,"routerLink"]],template:function(e,c){1&e&&(t._UZ(0,"app-content-loading-status",0),t.YNc(1,u,10,5,"ng-container",1)),2&e&&(t.Q6J("isEmpty",!c.items.length)("isLoading",c.loadInProcess),t.xp6(1),t.Q6J("ngIf",c.items.length))},directives:[q.u,a.O5,a.sg,M.BN,x.yS,j.N9,j.ju,j.GZ],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),n})();const ut=[{path:"",component:(()=>{class n{constructor(e){this.store=e,this.breadcrumbs=[{link:"",text:"Dashboard"},{link:null,text:"Posts"}],this.totalCount$=this.store.pipe((0,d.Ys)(G)),this.items$=this.store.pipe((0,d.Ys)(w)),this.currentListRequest$=this.store.pipe((0,d.Ys)(A)),this.loadInProcess$=this.store.pipe((0,d.Ys)((0,tt.n)(P.p$)))}ngOnInit(){this.store.dispatch(new P.Pv({page:{number:1,size:5},sort:{field:"id",direction:"asc"}})),this.store.dispatch(new E.jf)}onPageChange(e){var c=this;return C(function*(){var p;const g=yield S(c.currentListRequest$);c.store.dispatch(new P.Pv(Object.assign(Object.assign({},g),{page:{number:e,size:(null===(p=g.page)||void 0===p?void 0:p.size)||0}})))})()}onSort(e){var c=this;return C(function*(){const p=yield S(c.currentListRequest$);c.store.dispatch(new P.Pv(Object.assign(Object.assign({},p),{sort:e})))})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-list-page"]],decls:10,vars:13,consts:[[1,"container","pt-3"],[3,"items"],[1,"d-block","mb-2"],[3,"loadInProcess","items","totalCount","listRequest","sort","pageChange"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-breadcrumbs",1),t.TgZ(2,"h2"),t._uU(3,"Posts"),t.qZA(),t._UZ(4,"app-post-list-filter-container",2),t.TgZ(5,"app-post-list-table",3),t.NdJ("sort",function(g){return c.onSort(g)})("pageChange",function(g){return c.onPageChange(g)}),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.ALo(9,"async"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("items",c.breadcrumbs),t.xp6(4),t.Q6J("loadInProcess",t.lcZ(6,5,c.loadInProcess$))("items",t.lcZ(7,7,c.items$))("totalCount",t.lcZ(8,9,c.totalCount$))("listRequest",t.lcZ(9,11,c.currentListRequest$)))},directives:[$.n,st,y],pipes:[a.Ov],styles:[""],changeDetection:0}),n})()}];let pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[x.Bz.forChild(ut)],x.Bz]}),n})();var dt=r(4466);let mt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.ez,pt,dt.m,d.Aw.forFeature(Z,b),d.Aw.forFeature(B,J)]]}),n})()},2834:(ct,D,r)=>{r.d(D,{n:()=>Z});var a=r(5e3),x=r(9808),T=r(8775);function C(f,b){if(1&f&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&f){const m=a.oxw(),O=m.$implicit;a.ekj("active",m.last),a.xp6(1),a.Oqu(O.text)}}function d(f,b){if(1&f&&(a.TgZ(0,"a",6),a._uU(1),a.qZA()),2&f){const m=a.oxw(),O=m.$implicit;a.ekj("active",m.last),a.Q6J("routerLink",O.link),a.xp6(1),a.Oqu(O.text)}}function P(f,b){if(1&f&&(a.TgZ(0,"li",3),a.YNc(1,C,2,3,"span",4),a.YNc(2,d,2,4,"ng-template",null,5,a.W1O),a.qZA()),2&f){const m=b.$implicit,v=a.MAs(3);a.xp6(1),a.Q6J("ngIf",null===m.link)("ngIfElse",v)}}let Z=(()=>{class f{constructor(){this.items=[]}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275cmp=a.Xpm({type:f,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"active",4,"ngIf","ngIfElse"],["withLink",""],[3,"routerLink"]],template:function(m,v){1&m&&(a.TgZ(0,"nav",0)(1,"ol",1),a.YNc(2,P,4,2,"li",2),a.qZA()()),2&m&&(a.xp6(2),a.Q6J("ngForOf",v.items))},directives:[x.sg,x.O5,T.yS],styles:[""],changeDetection:0}),f})()},911:(ct,D,r)=>{r.d(D,{c:()=>Y,t:()=>rt});var a=r(4408);let T,x=1;const C={};function d(o){return o in C&&(delete C[o],!0)}const P={setImmediate(o){const s=x++;return C[s]=!0,T||(T=Promise.resolve()),T.then(()=>d(s)&&o()),s},clearImmediate(o){d(o)}},{setImmediate:f,clearImmediate:b}=P,m={setImmediate(...o){const{delegate:s}=m;return((null==s?void 0:s.setImmediate)||f)(...o)},clearImmediate(o){const{delegate:s}=m;return((null==s?void 0:s.clearImmediate)||b)(o)},delegate:void 0};var O=r(7565);new class E extends O.v{flush(s){this._active=!0;const l=this._scheduled;this._scheduled=void 0;const{actions:u}=this;let y;s=s||u.shift();do{if(y=s.execute(s.state,s.delay))break}while((s=u[0])&&s.id===l&&u.shift());if(this._active=!1,y){for(;(s=u[0])&&s.id===l&&u.shift();)s.unsubscribe();throw y}}}(class v extends a.o{constructor(s,l){super(s,l),this.scheduler=s,this.work=l}requestAsyncId(s,l,u=0){return null!==u&&u>0?super.requestAsyncId(s,l,u):(s.actions.push(this),s._scheduled||(s._scheduled=m.setImmediate(s.flush.bind(s,void 0))))}recycleAsyncId(s,l,u=0){if(null!=u&&u>0||null==u&&this.delay>0)return super.recycleAsyncId(s,l,u);s.actions.some(y=>y.id===l)||(m.clearImmediate(l),s._scheduled=void 0)}});var J=r(7579),H=r(727),A=(r(457),r(515),r(5e3)),W=(r(5577),r(5363),r(262),r(2722));const X=A.GuJ,tt=Symbol("__destroy"),t=Symbol("__decoratorApplied");function $(o){return"string"==typeof o?Symbol(`__destroy__${o}`):tt}function h(o,s){o[s]||(o[s]=new J.x)}function U(o,s){o[s]&&(o[s].next(),o[s].complete(),o[s]=null)}function N(o){o instanceof H.w0&&o.unsubscribe()}function Q(o,s){return function(){var l;if(o&&o.call(this),U(this,$()),s.arrayName&&function nt(o){Array.isArray(o)&&o.forEach(N)}(this[s.arrayName]),s.checkProperties)for(const u in this)(null===(l=s.blackList)||void 0===l?void 0:l.includes(u))||N(this[u])}}function Y(o={}){return s=>{!function S(o){return!!o[X]}(s)?function L(o,s){o.prototype.ngOnDestroy=Q(o.prototype.ngOnDestroy,s)}(s,o):function st(o,s){const l=o.\u0275pipe;l.onDestroy=Q(l.onDestroy,s)}(s,o),function et(o){o.prototype[t]=!0}(s)}}function rt(o,s){return l=>{const u=$(s);return"string"==typeof s?function it(o,s,l){const u=o[s];h(o,l),o[s]=function(){u.apply(this,arguments),U(this,l),o[s]=u}}(o,s,u):h(o,u),l.pipe((0,W.R)(o[u]))}}Symbol("CheckerHasBeenSet")}}]);