"use strict";(self.webpackChunkngx_demo_app=self.webpackChunkngx_demo_app||[]).push([[95],{7095:(b,d,l)=>{l.r(d),l.d(d,{PhotoDetailsModule:()=>Z});var s=l(9808),p=l(8775),t=l(5e3),g=l(5577),f=l(655),h=l(9384);let n=class extends h.yh{constructor(){super({photo:null,album:null,albumLoading:!0})}setAlbumLoading(i){this.update({albumLoading:i})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n=(0,f.gn)([(0,h.yC)({name:"photo-details"})],n);var u=l(2369);let r=(()=>{class o{constructor(e,a){this.photoDetailsStore=e,this.apiService=a}getPhoto(e){this.photoDetailsStore.setLoading(!0),this.photoDetailsStore.setAlbumLoading(!0),this.apiService.getSinglePhoto(e).pipe((0,g.z)(a=>(this.photoDetailsStore.update({photo:a}),this.photoDetailsStore.setLoading(!1),this.apiService.getSingleAlbum(a.album)))).subscribe({next:a=>{this.photoDetailsStore.update({album:a}),this.photoDetailsStore.setAlbumLoading(!1)},error:()=>{this.photoDetailsStore.setLoading(!1),this.photoDetailsStore.setAlbumLoading(!1)}})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(n),t.LFG(u.s))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var c=l(4004);let m=(()=>{class o extends h.AE{constructor(e){super(e),this.store=e}selectBreadcrumbs(){return this.select("photo").pipe((0,c.U)(e=>e?[{link:"",text:"Dashboard"},{link:["/","photos"],text:"Photos"},{link:null,text:e.id+". "+e.title}]:null))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(n))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=l(6974),v=l(2834);function y(o,i){if(1&o&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.photo.title,"\n")}}const L=function(o){return["/","album",o]};function S(o,i){if(1&o&&(t.TgZ(0,"div",2),t._uU(1," View Album "),t.TgZ(2,"a",3),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(2,L,e.album.id)),t.xp6(1),t.Oqu(e.album.title)}}let x=(()=>{class o{constructor(){this.photo=null,this.album=null}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photo-details-title"]],inputs:{photo:"photo",album:"album"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"mb-2"],[3,"routerLink"]],template:function(e,a){1&e&&(t.YNc(0,y,2,1,"h2",0),t.YNc(1,S,4,4,"div",1)),2&e&&(t.Q6J("ngIf",a.photo),t.xp6(1),t.Q6J("ngIf",a.album))},directives:[s.O5,p.yS],styles:[""],changeDetection:0}),o})();function C(o,i){1&o&&t._UZ(0,"app-breadcrumbs",5),2&o&&t.Q6J("items",i.ngIf)}function T(o,i){if(1&o&&t._UZ(0,"img",6),2&o){const e=i.ngIf;t.Q6J("src",e.url,t.LSH)("alt",e.title)("title",e.title)}}const A=[{path:"",component:(()=>{class o{constructor(e,a,Q){this.route=e,this.photoDetailsService=a,this.photoDetailsQuery=Q,this.breadcrumbs$=this.photoDetailsQuery.selectBreadcrumbs(),this.photo$=this.photoDetailsQuery.select("photo"),this.photoLoadInProcess$=this.photoDetailsQuery.selectLoading(),this.album$=this.photoDetailsQuery.select("album"),this.albumLoadInProcess$=this.photoDetailsQuery.select("albumLoading")}ngOnInit(){this.route.params.subscribe(e=>{const a=Number(e.id);this.photoDetailsService.getPhoto(a)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(r),t.Y36(m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photo-details-page"]],decls:11,vars:18,consts:[[1,"container","pt-3"],[3,"isEmpty","isLoading"],[3,"items",4,"ngIf"],[3,"photo","album"],[3,"src","alt","title",4,"ngIf"],[3,"items"],[3,"src","alt","title"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-content-loading-status",1),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,C,1,1,"app-breadcrumbs",2),t.ALo(5,"async"),t._UZ(6,"app-photo-details-title",3),t.ALo(7,"async"),t.ALo(8,"async"),t.YNc(9,T,1,3,"img",4),t.ALo(10,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("isEmpty",null===t.lcZ(2,6,a.photo$))("isLoading",t.lcZ(3,8,a.photoLoadInProcess$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(5,10,a.breadcrumbs$)),t.xp6(2),t.Q6J("photo",t.lcZ(7,12,a.photo$))("album",t.lcZ(8,14,a.album$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,16,a.photo$)))},directives:[P.u,s.O5,v.n,x],pipes:[s.Ov],styles:[""],changeDetection:0}),o})()}];let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(A)],p.Bz]}),o})();var _=l(4466);let Z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.ez,I,_.m]]}),o})()},2834:(b,d,l)=>{l.d(d,{n:()=>D});var s=l(5e3),p=l(9808),t=l(8775);function g(n,u){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const r=s.oxw(),m=r.$implicit;s.ekj("active",r.last),s.xp6(1),s.Oqu(m.text)}}function f(n,u){if(1&n&&(s.TgZ(0,"a",6),s._uU(1),s.qZA()),2&n){const r=s.oxw(),m=r.$implicit;s.ekj("active",r.last),s.Q6J("routerLink",m.link),s.xp6(1),s.Oqu(m.text)}}function h(n,u){if(1&n&&(s.TgZ(0,"li",3),s.YNc(1,g,2,3,"span",4),s.YNc(2,f,2,4,"ng-template",null,5,s.W1O),s.qZA()),2&n){const r=u.$implicit,c=s.MAs(3);s.xp6(1),s.Q6J("ngIf",null===r.link)("ngIfElse",c)}}let D=(()=>{class n{constructor(){this.items=[]}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"active",4,"ngIf","ngIfElse"],["withLink",""],[3,"routerLink"]],template:function(r,c){1&r&&(s.TgZ(0,"nav",0)(1,"ol",1),s.YNc(2,h,4,2,"li",2),s.qZA()()),2&r&&(s.xp6(2),s.Q6J("ngForOf",c.items))},directives:[p.sg,p.O5,t.yS],styles:[""],changeDetection:0}),n})()}}]);