"use strict";(self.webpackChunkngx_demo_app=self.webpackChunkngx_demo_app||[]).push([[756],{236:(y,_,n)=>{n.d(_,{H:()=>p});var t=n(655),g=n(9384),v=n(5e3);let p=class extends g.cf{constructor(){super()}};p.\u0275fac=function(h){return new(h||p)},p.\u0275prov=v.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p=(0,t.gn)([(0,g.yC)({name:"photo-list-albums"})],p)},445:(y,_,n)=>{n.d(_,{x:()=>p});var t=n(9384),g=n(5e3),v=n(833);let p=(()=>{class c extends t.Gv{constructor(m){super(m),this.store=m}isLastPage(){return this.select(m=>m.totalCount===m.ids.length)}}return c.\u0275fac=function(m){return new(m||c)(g.LFG(v.f))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},8490:(y,_,n)=>{n.d(_,{B:()=>c});var t=n(5e3),g=n(833),v=n(236),p=n(2369);let c=(()=>{class h{constructor(i,d,u){this.photoStore=i,this.albumsStore=d,this.apiService=u}getPhotos(i){this.photoStore.setLoading(!0),this.apiService.getPhotos(i).subscribe({next:d=>{this.photoStore.setLoading(!1),this.photoStore.updateList(d)},error:()=>{this.photoStore.setLoading(!1)}})}getNextPhotos(){const d=this.photoStore.getValue().pageRequest;this.getPhotos(Object.assign(Object.assign({},d),{page:{number:d.page.number+1,size:d.page.size}}))}getAlbums(i){this.apiService.getAlbums(i).subscribe(d=>{this.albumsStore.set(d.items)})}updateFilter(i){const u=this.photoStore.getValue().pageRequest;this.getPhotos(Object.assign(Object.assign({},u),{page:{number:1,size:u.page.size},filter:i}))}}return h.\u0275fac=function(i){return new(i||h)(t.LFG(g.f),t.LFG(v.H),t.LFG(p.s))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},833:(y,_,n)=>{n.d(_,{f:()=>c});var t=n(655),g=n(9384),v=n(5e3);const p={totalCount:0,pageRequest:{}};let c=class extends g.cf{constructor(){super(p)}updateList(m){var i;const{items:d,totalCount:u,pageRequest:b}=m;1===(null===(i=m.pageRequest.page)||void 0===i?void 0:i.number)?this.set(d):this.add(d),this.update({totalCount:u,pageRequest:b})}};c.\u0275fac=function(m){return new(m||c)},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c=(0,t.gn)([(0,g.yC)({name:"photo-list"})],c)},2834:(y,_,n)=>{n.d(_,{n:()=>m});var t=n(5e3),g=n(9808),v=n(8775);function p(i,d){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const u=t.oxw(),L=u.$implicit;t.ekj("active",u.last),t.xp6(1),t.Oqu(L.text)}}function c(i,d){if(1&i&&(t.TgZ(0,"a",6),t._uU(1),t.qZA()),2&i){const u=t.oxw(),L=u.$implicit;t.ekj("active",u.last),t.Q6J("routerLink",L.link),t.xp6(1),t.Oqu(L.text)}}function h(i,d){if(1&i&&(t.TgZ(0,"li",3),t.YNc(1,p,2,3,"span",4),t.YNc(2,c,2,4,"ng-template",null,5,t.W1O),t.qZA()),2&i){const u=d.$implicit,b=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null===u.link)("ngIfElse",b)}}let m=(()=>{class i{constructor(){this.items=[]}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-breadcrumbs"]],inputs:{items:"items"},decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"active",4,"ngIf","ngIfElse"],["withLink",""],[3,"routerLink"]],template:function(u,b){1&u&&(t.TgZ(0,"nav",0)(1,"ol",1),t.YNc(2,h,4,2,"li",2),t.qZA()()),2&u&&(t.xp6(2),t.Q6J("ngForOf",b.items))},directives:[g.sg,g.O5,v.yS],styles:[""],changeDetection:0}),i})()},9118:(y,_,n)=>{n.d(_,{Y:()=>A});var t=n(5e3),g=n(801),v=n(6974),p=n(7408),c=n(9808),h=n(8775);const m=function(r){return["/","album",r]};function i(r,P){if(1&r&&(t.TgZ(0,"div"),t._uU(1," View Album "),t.TgZ(2,"a",3),t._uU(3),t.qZA()()),2&r){const l=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(2,m,l.album.id)),t.xp6(1),t.Oqu(l.album.title)}}const d=function(r){return["/","photo",r]};function u(r,P){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2)(2,"a",3),t._UZ(3,"img",4),t.qZA()(),t.TgZ(4,"div",5)(5,"div",6),t._uU(6," View photo "),t.TgZ(7,"a",3),t._uU(8),t.qZA()(),t.YNc(9,i,4,4,"div",7),t.qZA()()),2&r){const l=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(5,d,l.photo.id)),t.xp6(1),t.Q6J("src",l.photo.thumbnailUrl,t.LSH),t.xp6(4),t.Q6J("routerLink",t.VKq(7,d,l.photo.id)),t.xp6(1),t.Oqu(l.photo.title),t.xp6(1),t.Q6J("ngIf",l.showAlbumLink&&l.album)}}let b=(()=>{class r{constructor(){this.showAlbumLink=!0}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-photo-list-item"]],inputs:{photo:"photo",album:"album",showAlbumLink:"showAlbumLink"},decls:1,vars:1,consts:[["class","card text-center",4,"ngIf"],[1,"card","text-center"],[1,"card-body"],[3,"routerLink"],["alt","","title","Click to view photo",3,"src"],[1,"card-footer"],[1,"mb-2"],[4,"ngIf"]],template:function(l,f){1&l&&t.YNc(0,u,10,9,"div",0),2&l&&t.Q6J("ngIf",f.photo)},directives:[c.O5,h.yS],styles:[""],changeDetection:0}),r})();var L=n(9444);function E(r,P){if(1&r&&t._UZ(0,"app-photo-list-item",4),2&r){const l=P.$implicit,f=t.oxw();t.Q6J("photo",l)("album",f.albums[l.album])("showAlbumLink",f.showAlbumLink)}}function C(r,P){if(1&r&&(t.TgZ(0,"div",5)(1,"fa-icon",6)(2,"span",7),t._uU(3,"Loading..."),t.qZA()()()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("icon",l.faSpinner)("pulse",!0)}}let A=(()=>{class r{constructor(){this.photos=[],this.albums={},this.isLastPage=!0,this.loadInProcess=!0,this.showAlbumLink=!0,this.loadMore=new t.vpe,this.faSpinner=g.LM3}trackByPhoto(l,f){return f.id}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-photo-list"]],inputs:{photos:"photos",albums:"albums",isLastPage:"isLastPage",loadInProcess:"loadInProcess",showAlbumLink:"showAlbumLink"},outputs:{loadMore:"loadMore"},decls:4,vars:6,consts:[[3,"isEmpty","isLoading"],["infiniteScroll","",1,"photo-list","d-flex","flex-wrap",3,"infiniteScrollDisabled","scrolled"],[3,"photo","album","showAlbumLink",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center",4,"ngIf"],[3,"photo","album","showAlbumLink"],[1,"text-center"],["role","status","data-testid","loading-spinner",3,"icon","pulse"],[1,"sr-only"]],template:function(l,f){1&l&&(t._UZ(0,"app-content-loading-status",0),t.TgZ(1,"div",1),t.NdJ("scrolled",function(){return f.loadMore.emit()}),t.YNc(2,E,1,3,"app-photo-list-item",2),t.qZA(),t.YNc(3,C,4,2,"div",3)),2&l&&(t.Q6J("isEmpty",!f.photos.length)("isLoading",f.loadInProcess),t.xp6(1),t.Q6J("infiniteScrollDisabled",f.isLastPage),t.xp6(1),t.Q6J("ngForOf",f.photos)("ngForTrackBy",f.trackByPhoto),t.xp6(1),t.Q6J("ngIf",f.loadInProcess&&f.photos.length))},directives:[v.u,p.Ry,c.sg,b,c.O5,L.BN],styles:[".photo-list[_ngcontent-%COMP%]{gap:20px}.photo-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:calc(16.66% - 16.6666666667px)}"],changeDetection:0}),r})()},911:(y,_,n)=>{n.d(_,{c:()=>H,t:()=>X});var t=n(4408);let v,g=1;const p={};function c(o){return o in p&&(delete p[o],!0)}const h={setImmediate(o){const e=g++;return p[e]=!0,v||(v=Promise.resolve()),v.then(()=>c(e)&&o()),e},clearImmediate(o){c(o)}},{setImmediate:i,clearImmediate:d}=h,u={setImmediate(...o){const{delegate:e}=u;return((null==e?void 0:e.setImmediate)||i)(...o)},clearImmediate(o){const{delegate:e}=u;return((null==e?void 0:e.clearImmediate)||d)(o)},delegate:void 0};var L=n(7565);new class E extends L.v{flush(e){this._active=!0;const s=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let D;e=e||a.shift();do{if(D=e.execute(e.state,e.delay))break}while((e=a[0])&&e.id===s&&a.shift());if(this._active=!1,D){for(;(e=a[0])&&e.id===s&&a.shift();)e.unsubscribe();throw D}}}(class b extends t.o{constructor(e,s){super(e,s),this.scheduler=e,this.work=s}requestAsyncId(e,s,a=0){return null!==a&&a>0?super.requestAsyncId(e,s,a):(e.actions.push(this),e._scheduled||(e._scheduled=u.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,s,a=0){if(null!=a&&a>0||null==a&&this.delay>0)return super.recycleAsyncId(e,s,a);e.actions.some(D=>D.id===s)||(u.clearImmediate(s),e._scheduled=void 0)}});var r=n(7579),P=n(727),O=(n(457),n(515),n(5e3)),Q=(n(5577),n(5363),n(262),n(2722));const J=O.GuJ,N=Symbol("__destroy"),x=Symbol("__decoratorApplied");function S(o){return"string"==typeof o?Symbol(`__destroy__${o}`):N}function T(o,e){o[e]||(o[e]=new r.x)}function M(o,e){o[e]&&(o[e].next(),o[e].complete(),o[e]=null)}function B(o){o instanceof P.w0&&o.unsubscribe()}function U(o,e){return function(){var s;if(o&&o.call(this),M(this,S()),e.arrayName&&function Y(o){Array.isArray(o)&&o.forEach(B)}(this[e.arrayName]),e.checkProperties)for(const a in this)(null===(s=e.blackList)||void 0===s?void 0:s.includes(a))||B(this[a])}}function H(o={}){return e=>{!function W(o){return!!o[J]}(e)?function $(o,e){o.prototype.ngOnDestroy=U(o.prototype.ngOnDestroy,e)}(e,o):function z(o,e){const s=o.\u0275pipe;s.onDestroy=U(s.onDestroy,e)}(e,o),function j(o){o.prototype[x]=!0}(e)}}function X(o,e){return s=>{const a=S(e);return"string"==typeof e?function G(o,e,s){const a=o[e];T(o,s),o[e]=function(){a.apply(this,arguments),M(this,s),o[e]=a}}(o,e,a):T(o,a),s.pipe((0,Q.R)(o[a]))}}Symbol("CheckerHasBeenSet")}}]);